笔记管理软件

# 数据层

1. 笔记文件管理组件
  - 读笔记文件，笔记文件名全部为日期，格式为：2025-11-23.md
  - 解析笔记文件，解析文本开头参数，格式为：
---
{
  "data": "2025-11-23T00:00:00.000Z",
  "direction": "neutral",
  "interval": "1"
}
---
  - 笔记正文第一行会作为笔记标题
  - 写笔记文件，包括重命名笔记文件方法，更新笔记内容
  - 笔记应该有一个专门的数据结构定义，包括文件开头参数和标题以及正文
  - 数据来源配置在前端本地存储中维护，用户可直接在界面内切换来源与标的
  - 笔记本实现：笔记本实际上是一个文件夹，文件夹名称即为笔记本名

2.笔记目录维护组件
  - 读取笔记文件夹下全部笔记文件
  - 按照文件名（日期）排序
  - 正确的笔记文件更新逻辑，包括重命名笔记文件（更新笔记日期），更新笔记内容

3. k线数据读组件
  - 读取k线数据的api，例如从binance coinglass等获取某个时间段的k线数据

4. k线数据本地读写组件
  - 将k线数据写入本地json文件，按照年和数据来源命名文件
  - 提供本地数据的读写方法

5. k线数据的维护组件
  - 提供k线数据的读取方法，供上层组件使用
  - 维护好k线数据，让上层数据无需考虑底层实现，无需考虑本地数据缺失情况，本地数据缺失时，自动从api获取缺失时间段的数据，并会在本地数据中补齐数据

---------
# 交互层/ui层

1. 笔记目录组件
  - 用户创建笔记本按钮
  - 用户选择笔记本按钮
  - 用户在当前笔记本下创建新笔记按钮（用户创建笔记后，检查文件是否已经存在，不立刻创建文件，存在则提示用户对应日期的笔记已经存在）
  - 当前笔记本数据来源展示组件（用户可更新数据来源）
  - 笔记搜索栏
  - 笔记重命名功能（限制名称只能为规定格式的日期，并且重命名后会重新对笔记排序）

2. 笔记编辑组件
  - 用户在笔记目录选择某个笔记后，在右侧显示该笔记内容并进入编辑模式
  - 提供保存按钮，并且定时每10s自动调用保存笔记接口

3. k线展示组件
  - 根据前端配置和输入的时间范围，读取对应的k线数据并渲染展示

4. k线预测标记组件
  - 根据用户选中的笔记中的笔记头结构体数据中的direction和interval 渲染对应的预测标记

5. k线预测线段组件
  - 根据用户选中的笔记中的笔记头结构体数据中的direction和interval 渲染对应的预测线段
6. k线管理组件
  - 统一管理k线渲染和k线预测标记和k线预测线段
  - 管理k线展示时间段，例如用户切换笔记后应该更新k线展示时间段，完成笔记对应日期的k线的聚焦
  
  


